---
sidebar: sidebar 
permalink: openshift/os-use-case-pipeline.html 
keywords: CI/CD, Continuous integration, continuous deployment, Jenkins, PVC 
summary: このセクションでは、ソリューションの操作を検証するために、Jenkins を使用して継続的インテグレーションと継続的デリバリーまたはデプロイメント パイプラインをデプロイする手順について説明します。 
---
= 永続ストレージを使用した Jenkins CI/CD パイプラインの導入: Red Hat OpenShift とNetApp
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
このセクションでは、ソリューションの操作を検証するために、Jenkins を使用して継続的インテグレーション/継続的デリバリーまたはデプロイメント (CI/CD) パイプラインをデプロイする手順について説明します。



== Jenkinsのデプロイメントに必要なリソースを作成する

Jenkins アプリケーションのデプロイに必要なリソースを作成するには、次の手順を実行します。

. Jenkins という名前の新しいプロジェクトを作成します。
+
image:redhat-openshift-015.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. この例では、永続ストレージを備えた Jenkins をデプロイしました。  Jenkins ビルドをサポートするには、PVC を作成します。 [ストレージ] > [永続ボリューム要求] に移動し、[永続ボリューム要求の作成] をクリックします。作成されたストレージ クラスを選択し、永続ボリューム クレーム名が jenkins であることを確認して、適切なサイズとアクセス モードを選択し、[作成] をクリックします。


image:redhat-openshift-016.png["入出力ダイアログまたは書かれたコンテンツを示す図"]



== 永続ストレージを使用したJenkinsのデプロイ

永続ストレージを使用して Jenkins をデプロイするには、次の手順を実行します。

. 左上隅で、役割を管理者から開発者に変更します。 +追加をクリックし、カタログからを選択します。キーワードでフィルター バーで、jenkins を検索します。永続ストレージを備えた Jenkins サービスを選択します。
+
image:redhat-openshift-017.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. クリック `Instantiate Template`。
+
image:redhat-openshift-018.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. デフォルトでは、Jenkins アプリケーションの詳細が入力されます。要件に応じてパラメータを変更し、「作成」をクリックします。このプロセスでは、OpenShift 上で Jenkins をサポートするために必要なすべてのリソースが作成されます。
+
image:redhat-openshift-019.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. Jenkins ポッドが準備完了状態になるまでには約 10 ～ 12 分かかります。
+
image:redhat-openshift-020.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. ポッドがインスタンス化されたら、「ネットワーク」>「ルート」に移動します。  Jenkins Web ページを開くには、jenkins ルートに提供されている URL をクリックします。
+
image:redhat-openshift-021.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. Jenkins アプリの作成中に OpenShift OAuth が使用されたため、「OpenShift でログイン」をクリックします。
+
image:redhat-openshift-022.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. Jenkins サービス アカウントに OpenShift ユーザーへのアクセスを許可します。
+
image:redhat-openshift-023.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. Jenkins のウェルカム ページが表示されます。  Maven ビルドを使用しているため、最初に Maven のインストールを完了します。 「Jenkins の管理」>「グローバル ツール構成」に移動し、Maven サブヘッドで「Maven の追加」をクリックします。選択した名前を入力し、「自動的にインストール」オプションが選択されていることを確認します。[Save]をクリックします。
+
image:redhat-openshift-024.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. CI/CD ワークフローを実証するためのパイプラインを作成できるようになりました。ホームページで、左側のメニューから [新しいジョブの作成] または [新しいアイテム] をクリックします。
+
image:redhat-openshift-025.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. [アイテムの作成] ページで、任意の名前を入力し、[パイプライン] を選択して、[OK] をクリックします。
+
image:redhat-openshift-026.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. パイプラインタブを選択します。 「サンプル パイプラインを試す」ドロップダウン メニューから、「Github + Maven」を選択します。コードは自動的に入力されます。[Save]をクリックします。
+
image:redhat-openshift-027.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. 「今すぐビルド」をクリックして、準備、ビルド、テストのフェーズを通じて開発を開始します。ビルドプロセス全体を完了し、ビルドの結果が表示されるまでには数分かかる場合があります。
+
image:redhat-openshift-028.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. コードが変更されるたびに、パイプラインを再構築して新しいバージョンのソフトウェアにパッチを適用できるため、継続的な統合と継続的な配信が可能になります。以前のバージョンからの変更を追跡するには、「最近の変更」をクリックします。
+
image:redhat-openshift-029.png["入出力ダイアログまたは書かれたコンテンツを示す図"]


